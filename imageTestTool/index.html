<html>
    <head>
		<title>canvas图片处理 - power by saucxs</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        
    </head>
    <body>
        <h1>canvas(如下图所示)</h1>
        <canvas id="canvas"></canvas>
        <h1>img(如下图所示)</h1>
        <p><img src="" alt=""></p>
        <input type="file" name="" value="">
    </body>
    <script src="watermarkImage.js"></script>
    <script>
       var inputEle = document.querySelector("input");
        inputEle.addEventListener("change", function() {
            var img = new DealImage({
                target: "#canvas",
                mosaicSize: 10,
                image: this.files[0]
            })

            img.draw({
                type: "image/png",
                mosaic: {
                    position: [
                        {start: [100, 100], end: [200, 200]},
                        {start: [400, 100], end: [500, 200]},
                        {start: [300, 300], end: [400, 400]},
                    ],
                },
                frame: {
                    position: [
                        {start: [100, 100], end: [200, 200]},
                         {start: [400, 100], end: [500, 200]},
                        {start: [300, 300], end: [400, 400]},
                    ],
                    color: "red"
                },
                callback: function(imgBase64, filename) {

                    let imgEle = document.querySelector("img"),
                        linkEle = document.createElement("a");

                    imgEle.src = imgBase64;

                }
            })
        })
    </script>
</html>